"use strict";(self.webpackChunkapp_try=self.webpackChunkapp_try||[]).push([[5602],{10538:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"frontend/Cypress/4 code-workspace","title":"Code Workspace","description":"Overview","source":"@site/docs/frontend/1. Cypress/4 code-workspace.md","sourceDirName":"frontend/1. Cypress","slug":"/frontend/Cypress/4 code-workspace","permalink":"/docs/frontend/Cypress/4 code-workspace","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Code Workspace","displayed-sidebar":"frontend","sidebar_position":4},"sidebar":"frontend","previous":{"title":"Code Syntax","permalink":"/docs/frontend/Cypress/3 code-syntax"},"next":{"title":"References","permalink":"/docs/frontend/Cypress/5 references"}}');var t=s(74848),l=s(28453);const r={title:"Code Workspace","displayed-sidebar":"frontend",sidebar_position:4},o=void 0,c={},d=[{value:"Overview",id:"overview",level:2},{value:"File Setup",id:"file-setup",level:3},{value:"Automating Login",id:"automating-login",level:2},{value:"Optimizing Login with Sessions",id:"optimizing-login-with-sessions",level:3},{value:"Example:",id:"example",level:4},{value:"Creating a Custom Command",id:"creating-a-custom-command",level:3},{value:"Usage:",id:"usage",level:4},{value:"Testing Registration and Login",id:"testing-registration-and-login",level:2},{value:"Viewing Notes",id:"viewing-notes",level:2},{value:"Handling Dynamic Routing",id:"handling-dynamic-routing",level:2},{value:"Creating a Note",id:"creating-a-note",level:3},{value:"Simplifying <code>Create Note</code> Code:",id:"simplifying-create-note-code",level:3},{value:"Explanation:",id:"explanation",level:3},{value:"\ud83d\udccc Github Repository",id:"-github-repository",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"\ud83d\udc4b Welcome! In this section, we'll explore detailed examples to understand when and where specific Cypress functions should be used. By the end, you'll have a solid grasp of automating tests effectively! \ud83d\ude80"}),"\n",(0,t.jsx)(n.h3,{id:"file-setup",children:"File Setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Test files should have the extension ",(0,t.jsx)(n.code,{children:".cy.ts"})," or ",(0,t.jsx)(n.code,{children:".cy.js"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"The syntax for TypeScript and JavaScript is the same."}),"\n",(0,t.jsxs)(n.li,{children:["All test files should be located in the ",(0,t.jsx)(n.code,{children:"cypress/e2e/"})," folder."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\ud83c\udf1f ",(0,t.jsx)(n.strong,{children:"GitHub Repository"}),": You can find the testing files in the ",(0,t.jsx)(n.a,{href:"https://github.com/moonbuild/cypressNotty",children:"GitHub repository"})," repository."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/moonbuild/cypressNotty",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/View%20on-GitHub-blue?logo=github",alt:"GitHub"})})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"automating-login",children:"Automating Login"}),"\n",(0,t.jsx)(n.p,{children:"Let's start with a simple login example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="login.cy.js"',children:"describe('Login test', () => {\n  it('should successfully log in', () => {\n    cy.visit('/login');\n    cy.get(\"input[name='username']\").type('mourya');\n    cy.get(\"input[name='password']\").type('password123');\n    cy.get(\"button[type='submit']\").click();\n    cy.contains('Login successful', {timeout:20000}).should('be.visible');\n    cy.url().should('include', '/list');\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "Login" feature.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test: 'should successfully log in'"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Visits ",(0,t.jsx)(n.code,{children:"/login"}),"."]}),"\n",(0,t.jsx)(n.li,{children:'Enters "mourya" in the username and password fields.'}),"\n",(0,t.jsx)(n.li,{children:'Clicks the "Submit" button.'}),"\n",(0,t.jsxs)(n.li,{children:["Verifies the success message and checks if redirected to ",(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),': Confirms visibility of "Login successful" and URL includes ',(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"The timeout option sets how long (in milliseconds) Cypress will wait for the element to appear before giving up."})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"login Example ",src:s(35274).A+"",width:"1366",height:"671"})}),"\n",(0,t.jsx)(n.h3,{id:"optimizing-login-with-sessions",children:"Optimizing Login with Sessions"}),"\n",(0,t.jsxs)(n.p,{children:["\ud83d\udca1 Logging in repeatedly can be time-consuming for large applications. Cypress offers the ",(0,t.jsx)(n.code,{children:"cy.session()"})," function to cache session data."]}),"\n",(0,t.jsx)(n.h4,{id:"example",children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"cy.session('mourya', () => {\n  cy.visit('/login');\n  cy.get(\"input[name='username']\").type('mourya');\n  cy.get(\"input[name='password']\").type(`password123`);\n  cy.get(\"button[type='submit']\").click();\n  cy.contains('Login successful', { timeout: 20000 }).should('be.visible');\n  cy.url({ timeout: 20000 }).should('include', '/list');\n});\n\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose"}),': This code sets up a session for the user "mourya" using ',(0,t.jsx)(n.code,{children:"cy.session"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"How it works"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"cy.session"})," creates and caches a session identified by the key ",(0,t.jsx)(n.code,{children:"'mourya'"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Inside the session callback, it performs the login steps (visiting ",(0,t.jsx)(n.code,{children:"/login"}),", entering credentials, and verifying success)."]}),"\n",(0,t.jsxs)(n.li,{children:["On subsequent calls with the same key (",(0,t.jsx)(n.code,{children:"'mourya'"}),"), Cypress restores the cached session (cookies, local storage, etc.) instead of repeating the login steps."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Key Benefits"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Reduces test runtime by skipping redundant login steps."}),"\n",(0,t.jsx)(n.li,{children:"Ensures the test starts in a pre-authenticated state."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Checks for the success message and the correct post-login URL."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-custom-command",children:"Creating a Custom Command"}),"\n",(0,t.jsxs)(n.p,{children:["Since login is a repetitive task, we can create a custom Cypress command:\nFirst rename all ",(0,t.jsx)(n.code,{children:".js"})," files in ",(0,t.jsx)(n.code,{children:"cypress/support"})," folder to ",(0,t.jsx)(n.code,{children:".ts"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," ",(0,t.jsx)(n.code,{children:"cypress/support/commands.ts"}),"."]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Add the following code:"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="commands.js"',children:"const login = (email, password) => {\n  cy.session(email, () => {\n    cy.visit('/login');\n    cy.get(\"input[name='username']\").type(email);\n    cy.get(\"input[name='password']\").type(`${password}`);\n    cy.get(\"button[type='submit']\").click();\n    cy.contains('Login successful', { timeout: 20000 }).should('be.visible');\n    cy.url({ timeout: 20000 }).should('include', '/list');\n  }, {\n    cacheAcrossSpecs: true\n  });\n};\n\nCypress.Commands.add('login', login);\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ensure import exists:"})," In ",(0,t.jsx)(n.code,{children:"cypress/support/e2e.ts"}),", verify the following:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import './commands';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\ud83c\udf89 Now you can use the ",(0,t.jsx)(n.code,{children:"cy.login"})," command in your tests!"]}),"\n",(0,t.jsx)(n.h4,{id:"usage",children:"Usage:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="visitPage.cy.js"',children:"describe('Visit Page', () => {\n  it('should visit page', () => {\n    cy.login('mourya', 'password123');\n    cy.visit('/list');\n  });\n});\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"When the session exists:"})," Cypress restores it using stored cookies and local/session storage."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"When it doesn't exist:"})," Cypress runs the login function and saves the session for future use."]}),"\n"]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"testing-registration-and-login",children:"Testing Registration and Login"}),"\n",(0,t.jsx)(n.p,{children:"Here's an example to test user registration and subsequent login:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="signup.cy.js"',children:"describe('New User Registration', () => {\n  it('should register a new user and log in', () => {\n    const username = 'naruto';\n    const password = 'uzumakiNaruto';\n\n    // register\n    cy.visit('/register');\n    cy.get(\"input[name='full_name']\").type('naruto22');\n    cy.get(\"input[name='username']\").type(username);\n    cy.get(\"input[name='password']\").type(password);\n    cy.contains('button', 'Create account').click();\n    cy.contains('Registration successful!', { timeout: 20000 }).should('be.visible');\n    cy.url().should('include', '/login');\n    cy.log('Registration successful');\n\n    // login\n    cy.visit('/login');\n    cy.get(\"input[name='username']\").type(username);\n    cy.get(\"input[name='password']\").type(password);\n    cy.get(\"button[type='submit']\").click();\n    cy.contains('Login successful', { timeout: 20000 }).should('be.visible');\n    cy.url().should('include', '/list');\n    cy.log('Login successful');\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "New User Registration" and subsequent login.']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Test: 'should register a new user and log in'"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Registration"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Visits ",(0,t.jsx)(n.code,{children:"/register"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Enters a full name, username (",(0,t.jsx)(n.code,{children:"naruto"}),"), and password (",(0,t.jsx)(n.code,{children:"uzumakiNaruto"}),")."]}),"\n",(0,t.jsx)(n.li,{children:'Clicks the "Create account" button.'}),"\n",(0,t.jsxs)(n.li,{children:['Verifies the "Registration successful!" message and checks redirection to ',(0,t.jsx)(n.code,{children:"/login"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Login"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Visits ",(0,t.jsx)(n.code,{children:"/login"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Enters the newly registered username and password."}),"\n",(0,t.jsx)(n.li,{children:'Clicks the "Submit" button.'}),"\n",(0,t.jsxs)(n.li,{children:['Verifies the "Login successful" message and checks redirection to ',(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Confirms successful registration with the correct message and URL (",(0,t.jsx)(n.code,{children:"/login"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Confirms successful login with the correct message and URL (",(0,t.jsx)(n.code,{children:"/list"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"viewing-notes",children:"Viewing Notes"}),"\n",(0,t.jsx)(n.p,{children:"Here's how you can test viewing a note:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="viewNote.cy.js"',children:"describe('View Note', () => {\n  it('Title should be disabled', () => {\n    cy.login('mourya', 'uzumakiNaruto');\n    cy.visit('/list');\n\n    cy.get('button.border.border-input', { timeout: 30000 })\n      .filter(':has(svg.tabler-icon-eye)')\n      .last()\n      .click();\n\n    cy.get(\"input[placeholder='Title']\")\n      .should('be.disabled');\n\n    cy.contains('button', 'Close')\n      .should('exist')\n      .click();\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "View Note" feature.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test: 'Title should be disabled'"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Restores the user session (",(0,t.jsx)(n.code,{children:"cy.login"}),") and visits ",(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Finds buttons with the class ",(0,t.jsx)(n.code,{children:"border.border-input"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Filters these to select one containing an SVG (eye icon), selects the last button, and clicks it."}),"\n",(0,t.jsxs)(n.li,{children:["Verifies the title field (",(0,t.jsx)(n.code,{children:"placeholder='Title'"}),") is disabled."]}),"\n",(0,t.jsx)(n.li,{children:'Ensures the "Close" button exists and clicks it to exit.'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),': Confirms session restoration, correct button interaction, disabled title field, and "Close" button functionality.']}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"handling-dynamic-routing",children:"Handling Dynamic Routing"}),"\n",(0,t.jsx)(n.p,{children:"Here's how to test a landing page that dynamically redirects based on session state:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="landingPage.cy.js"',children:"describe('Landing Page Renders', () => {\n  it('redirects to /list if session exists', () => {\n    cy.login('mourya', 'mourya');\n    cy.visit('/');\n    cy.contains('button', 'Get Started')\n      .should('exist')\n      .click();\n    cy.url().should('include', '/list');\n  });\n\n  it('redirects to /register if session does not exist', () => {\n    cy.visit('/');\n    cy.contains('button', 'Get Started')\n      .should('exist')\n      .click();\n    cy.url().should('include', '/register');\n  });\n});\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "Landing Page" behavior based on session state.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Test1 Redirect to ",(0,t.jsx)(n.code,{children:"/list"})]}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The user logs in with ",(0,t.jsx)(n.code,{children:"cy.login"})," to establish a session."]}),"\n",(0,t.jsxs)(n.li,{children:["Verifies on visiting ",(0,t.jsx)(n.code,{children:"/"}),', clicking "Get Started" redirects to ',(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Test2 Redirect to ",(0,t.jsx)(n.code,{children:"/register"})]}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Without logging in, visits ",(0,t.jsx)(n.code,{children:"/"})," ."]}),"\n",(0,t.jsxs)(n.li,{children:['Verfiies clicking "Get Started" button redirects to ',(0,t.jsx)(n.code,{children:"/register"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Ensures the "Get Started" button is visible before interacting.'}),"\n",(0,t.jsx)(n.li,{children:"Validates the URL to confirm the correct redirection."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"creating-a-note",children:"Creating a Note"}),"\n",(0,t.jsx)(n.p,{children:"Alright, let's get more complex and create a note!"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="createNote.cy.js"',children:"describe(\"Create Note\", () => {\n    it(\"should create note when title and body is given\", () => {\n        cy.login('mourya', 'mourya');\n        cy.visit('/list');\n\n        let initialCount;\n        cy.get('div.rounded-xl.border.bg-card.text-card-foreground.shadow-md', {timeout:30000})\n            .its('length')\n            .then((count) => {\n                initialCount = count;\n                cy.log(`Initial number of elements: ${initialCount}`);\n        });\n        initialCount = initialCount+1\n\n        cy.contains('button', 'Create New Note', { timeout: 30000 })\n        .should('exist')\n        .click();\n\n        const title = \"Fried Rice\";\n        const info = \"I loved the taste in the new shop\";\n        cy.get('input[placeholder=\"Title\"]', { timeout: 30000 }).type(title);\n        cy.get('div.ql-editor p').clear().type(info);\n        cy.contains('button', 'Create Note').click();\n\n        cy.get('div.rounded-xl.border.bg-card.text-card-foreground.shadow-md', { timeout: 30000 })\n            .its('length')\n            .then((newCount) => {\n                cy.log(`New number of elements: ${newCount}`);\n                expect(newCount).to.eq(initialCount);\n            });\n    });\n});\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "Create Note" functionality.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test1 Create Note"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Logs in using ",(0,t.jsx)(n.code,{children:"cy.login"})," and visits ",(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Counts the number of notes before creating a new one."}),"\n",(0,t.jsx)(n.li,{children:'Clicks the "Create Note" button, fills in the required data, and submits the form.'}),"\n",(0,t.jsx)(n.li,{children:"Verifies the count of notes increases by one after creation."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test2 Missing Title Error"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Logs in using ",(0,t.jsx)(n.code,{children:"cy.login"})," and visits ",(0,t.jsx)(n.code,{children:"/list"}),"."]}),"\n",(0,t.jsx)(n.li,{children:'Clicks the "Create Note" button.'}),"\n",(0,t.jsx)(n.li,{children:'Leaves the "Title" field empty and submits the form.'}),"\n",(0,t.jsx)(n.li,{children:'Verifies the "Title" field is marked invalid.'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ensures the count of notes increases when a valid note is created."}),"\n",(0,t.jsx)(n.li,{children:'Confirms the "Title" field is invalid when left empty.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Although we could just assert from the notification message, it's better to actually count and verify because it also checks if the website refreshes the ",(0,t.jsx)(n.code,{children:"/list"})," automatically."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"simplifying-create-note-code",children:["Simplifying ",(0,t.jsx)(n.code,{children:"Create Note"})," Code:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:'title="createNoteSimplify.cy.js"',children:"describe('Create Note', () => {\n    it('should create a new note', () => {\n        cy.login('mourya', 'mourya');\n        cy.visit('/list');\n\n        cy.get('div.rounded-xl.border.bg-card.text-card-foreground.shadow-md', {timeout: 40000})\n        .then((notesBefore) => {\n            const countBefore = notesBefore.length;\n            const title = \"Fried Rice\";\n            const info = \"I loved the taste in the new shop\";\n            cy.log(`Initial number of notes: ${countBefore}`);\n\n            cy.contains('button', 'Create New Note', { timeout: 30000 })\n            .should('exist')\n            .click();\n\n            cy.get('input[placeholder=\"Title\"]', { timeout: 30000 }).type(title);\n            cy.get('div.ql-editor p').clear().type(info);\n            cy.contains('button', 'Create Note').click();\n\n            cy.get('div.rounded-xl.border.bg-card.text-card-foreground.shadow-md')\n            .should((notesAfter) => {\n                expect(notesAfter.length).to.eq(countBefore + 1);\n            });\n        });\n    });\n});\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"explanation",children:"Explanation:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Suite"}),': Tests the "Create Note" functionality.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test: 'should create a new note'"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Logs in using ",(0,t.jsx)(n.code,{children:"cy.login"})," with valid credentials."]}),"\n",(0,t.jsxs)(n.li,{children:["Visits ",(0,t.jsx)(n.code,{children:"/list"}),", the page where notes are listed."]}),"\n",(0,t.jsxs)(n.li,{children:["Captures the current number of notes displayed using ",(0,t.jsx)(n.code,{children:"cy.get"})," and the specified selector."]}),"\n",(0,t.jsxs)(n.li,{children:["Here, ",(0,t.jsx)(n.code,{children:".then((notesBefore) => { ... })"})," captures the list of notes currently displayed on the page and allows storing the ",(0,t.jsx)(n.code,{children:"length"})," in a variable (",(0,t.jsx)(n.code,{children:"countBefore"}),") for further use in assertions."]}),"\n",(0,t.jsx)(n.li,{children:"Defines the title and content for the new note"}),"\n",(0,t.jsxs)(n.li,{children:["Clicks the ",(0,t.jsx)(n.strong,{children:'"Create New Note"'})," button to open the form."]}),"\n",(0,t.jsx)(n.li,{children:'Fills in the "Title" and "Body" fields.'}),"\n",(0,t.jsxs)(n.li,{children:["Submits the form by clicking the ",(0,t.jsx)(n.strong,{children:'"Create Note"'})," button."]}),"\n",(0,t.jsx)(n.li,{children:"Verifies the note count increased by 1, ensuring the note was created successfully."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Assertions"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Confirms the "Create New Note" button exists.'}),"\n",(0,t.jsxs)(n.li,{children:["Validates the final note count matches ",(0,t.jsx)(n.code,{children:"countBefore + 1"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Create Note Simplify",src:s(33578).A+"",width:"1366",height:"671"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-github-repository",children:"\ud83d\udccc Github Repository"}),"\n",(0,t.jsxs)(n.p,{children:["\ud83c\udf89 That wraps it up! For more diverse examples, visit the ",(0,t.jsx)(n.a,{href:"https://github.com/moonbuild/cypressNotty",children:"GitHub repository"}),". Happy testing! \ud83e\uddea\u2728"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},33578:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/createNoteSimplify-5cebf5b3697623041cdeab18b5cb36ba.gif"},35274:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/login-00b2dea91b1d1d1cedcef021418195ab.gif"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);